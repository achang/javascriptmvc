<h3>add page. <input id='page_generator' type='submit' value='Browse'/></h3>
<p class='indent gray'>Creates a page for your application at the specified location.</p>

<h3>include.</h3>
<div class='include_type'>
    <h4>controllers</h4>
    <div class='left'>(</div>
    <div class='includes'>
    <% var partial = (new MVC.View({absolute_url: 'command/views/_included.ejs'}).render({iter: included.controllers})); %>
    <%= partial %>
    </div>
    <form id='controller_generator'>&nbsp;<input name='controller_name' class='text'/>
    	<input type='submit' value='generate'> 
        <span>)</span>
    </form>
    <div class='clear'></div>
    <div class='indent'>
	    <% var partial = (new MVC.View({absolute_url: 'command/views/_unincluded.ejs'}).render({
	    	type: 'controller',
	    	included: included.controllers,
	    	files: files.controllers})); %>
	    <%= partial %>
        <p class='gray'>Controllers group events for groups of HTML objects.  <a href='#'>Learn more</a></p>
    </div>
</div>

<div class='include_type'>
    <h4>models</h4>
    <div class='left'>(</div>
    <div class='includes'>
    <% var partial = (new MVC.View({absolute_url: 'command/views/_included.ejs'}).render({iter: included.models})); %>
    <%= partial %>
    </div>
    <form id='model_generator'>&nbsp;<input name='model_name' class='text'/>
		<select name="model_type">
			<option value="Ajax">Ajax</option>
			<option value="Remote">Remote</option>
			<option value="Cookie">Cookie</option>
		</select>
    	<input type='submit' value='generate'> 
        <span>)</span>
    </form>
    <div class='clear'></div>
    <div class='indent'>
	    <% var partial = (new MVC.View({absolute_url: 'command/views/_unincluded.ejs'}).render({
	    	type: 'model',
	    	included: included.models,
	    	files: files.models})); %>
	    <%= partial %>
        <p class='gray'>Controllers group events for groups of HTML objects.  <a href='#'>Learn more</a></p>
    </div>
</div>

<form id='unit_test_generator'>Create new unit test 
	<input name='unit_test_name'/>
	<input type='submit' value='create'/>
</form>
<form id='functional_test_generator'>Create new functional test 
	<input name='functional_test_name'/>
	<input type='submit' value='create'/>
</form>
<form id='view_generator'>Create new view 
	<input name='view_name'/>
	Folder<select name="view_folder">
	<% for(var dir in files.views) { %>
		<option value="<%= dir %>"><%= dir %></option>
	<% } %>
	</select>
	<input type='submit' value='create'/>
</form>
<h1 id='application'><%= app_name %></h1>
<%	var included_groups = ['controllers','models','resources','functional_tests','unit_tests'];
	for(var i=0; i<included_groups.length; i++) { %>
	<h2><%= included_groups[i] %></h2>
	<ul id='<%= included_groups[i] %>'>
	<% if(files[included_groups[i]]) { %>
		<% for(var j=0; j<files[included_groups[i]].length; j++) { %>
			<% var checked = false;
			if(included[included_groups[i]] && 
			  included[included_groups[i]].indexOf(files[included_groups[i]][j]) != -1)
					checked = true; %>
			<li class='<%= included_groups[i].singularize() %>'><input type="checkbox" <%= checked? "checked='true'": "" %> /><%= files[included_groups[i]][j] %></li>
		<% } %>
	<% } %>
	</ul>
<%  }  %>

<h2>views</h2>
<% for(var dir in files.views) { %>
	<h3><%= dir %></h3>
	<ul id='views'>
	<% for(var j=0; j<files.views[dir].length; j++) { %>
		<% var checked = false;
		if(included.views && included.views.indexOf(dir+'/'+files.views[dir][j]) != -1)
			checked = true; %>
		<li class='view'><input type="checkbox" <%= checked? "checked='true'": "" %> /><%= files.views[dir][j] %></li>
	<% } %>
	</ul>
<% } %>


<h2>plugins</h2>
<ul id='plugins'>
<% if(files.plugins) { %>
	<% for(var j=0; j<files.plugins.length; j++) { %>
		<% var checked = false;
		if(included.plugins && included.plugins.indexOf(files.plugins[j]) != -1)
			checked = true; %>
		<% var disabled = true;
		if((checked && plugins_in_app_file.indexOf(files.plugins[j]) != -1) || !checked)
			disabled = false; %>
		<li class='plugin'><input type="checkbox" <%= disabled? "disabled='true'": "" %> <%= checked? "checked='true'": "" %> /><%= files.plugins[j] %></li>
	<% } %>
<% } %>
</ul>